- [\<script>](#script)
    - [标签位置](#标签位置)
### script
- async: 可选。表示应该立即下载脚本，但不应妨碍页面中的其他操作，比如下载其他资源或 等待加载其他脚本。只对外部脚本文件有效。两个脚本的执行顺序是不明确的。
- defer: 可选。表示脚本可以延迟到文档完全被解析和显示之后再执行。只对外部脚本文件有效,其中包含的脚本将延迟 到浏览器遇到`</html>`标签后再执。IE7及更早版本对嵌入脚本也支持这个属性。

<font size=2>无论如何包含代码，只要不存在 defer 和 async 属性，浏览器都会按照`<script>`元素在页面中 出现的先后顺序对它们依次进行解析。换句话说，在第一个`<script>`元素包含的代码解析完成后，第 二个`<script>`包含的代码才会被解析，然后才是第三个、第四个等.</font>

##### 标签位置
<font size=2>按照传统的做法，所有`<script>`元素都应该放在页面的`<head>`元素中,在文档的`<head>`元素中包含所有 JavaScript 文件，意味着必须等到全部 JavaScript 代码都被下载、 解析和执行完成以后，才能开始呈现页面的内容(浏览器在遇到`<body>`标签时才开始呈现内容)。对于 那些需要很多 JavaScript 代码的页面来说，这无疑会导致浏览器在呈现页面时出现明显的延迟，而延迟期间的浏览器窗口中将是一片空白。<font>

解决办法：
- 将脚本放在`<body>`内容的后面
- 使用async属性

##### 页面顺序
DomContentLoaded事件(先触发DomContentLoaded事件，后触发load事件)， window.load事件会在页面中的一切都加载完毕时触发， 但这个过程可能会因为要加载的外部资源过多而颇费周折。 而DomContentLoaded事件则在形成完整的Dom树之后就会触发， 不理会图像，javascript文件， css文件或其他资源是否已经下载完毕。

页面加载顺序：

1. 解析hmtl结构。
2. 加载外部脚本和样式文件(不包含defer和async等)。
3. 解析并执行脚本代码。
4. Dom树构建完成(DomContentLoaded事件已可执行)
5. 加载图片等外部资源。
6. 页面加载完毕(可执行load事件)。
