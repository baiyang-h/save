## DOM扩展

### 选择器API

1. `querySelector`和`querySelectorAll`都是静态的；

```js
document.querySelector(选择器);  //如果没找到，则返回null,  如果选择器是一个NodeList，返回的也是第一个值
document.querySelectorAll(选择器)
```

```html
<ul id="ul">
    <li>1</li>
    <li>2</li>
    <li>3</li>
</ul>
<script>
    let u = document.getElementById('ul');
    let aLi = u.getElementsByTagName('li');
    let bLi = u.querySelectorAll('li');
    let newLi = document.createElement('li');
    newLi.innerHTML = 4;
    u.appendChild(newLi);
    console.log(aLi);	//[li, li, li, li]	动态的， appendChild后有了，动态会变
    console.log(bLi);	//[li, li, li]		静态的	  appendChild后没有，静态不变	
</script>
```

2. `matchesSelector()`方法。 存在兼容问题

```js
//这个方法接受一个参数，即css选择器。 如果调用元素与该选择符匹配，则返回true，否则，返回false。
if (document.body.matchesSelector("body.page1")){  //document.body 和 'body.page1' 匹配
	//true
}
```



### 元素遍历

之前的`firstChild`、`lastChild`、`previousSibling`、`nextSibling`等都需要包括空白文本节点、注释等。

Element Traversal API为DOM元素添加了以下5个属性。**不必考虑空白文本节点等**。

- `childElementCount`：返回子元素(不包括文本节点和注释)的个数。
- `firstElementChild`：指向第一个子元素；`firstChild`的元素版。
- `lastElementChild`：指向最后一个子元素；`lastChild`的元素版。
- `previousElementSibling`：指向前一个同辈元素；`previousSibling`的元素版。
- `nextElementSibling`：指向后一个同辈元素；`nextSibling`的元素版。

```js
例子： element.firstElementChild
```

